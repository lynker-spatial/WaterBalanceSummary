<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Balance Data — balance_data • WaterBalanceSummary</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Balance Data — balance_data"><meta name="description" content="This function transforms the input data from wide to long format, calculates errors, adjusts variable values as needed, and filters the data based on the variables used in water balance calculations. Specifically, it makes AET, RCH, and RUN negative so they can be subtracted from PPT rather than added. The processed data is then saved to the global environment under specific names depending on the variables present."><meta property="og:description" content="This function transforms the input data from wide to long format, calculates errors, adjusts variable values as needed, and filters the data based on the variables used in water balance calculations. Specifically, it makes AET, RCH, and RUN negative so they can be subtracted from PPT rather than added. The processed data is then saved to the global environment under specific names depending on the variables present."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WaterBalanceSummary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/BasinData.html">BasinData</a></li>
    <li><a class="dropdown-item" href="../articles/WaterBalance.html">WaterBalance</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wamclean/WaterBalanceSummary/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Balance Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/wamclean/WaterBalanceSummary/blob/main/R/balance_data.R" class="external-link"><code>R/balance_data.R</code></a></small>
      <div class="d-none name"><code>balance_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function transforms the input data from wide to long format, calculates errors, adjusts variable values as needed, and filters the data based on the variables used in water balance calculations. Specifically, it makes AET, RCH, and RUN negative so they can be subtracted from PPT rather than added. The processed data is then saved to the global environment under specific names depending on the variables present.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">balance_data</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A data frame in wide format, typically containing columns for `divide_id`, `date`, `source`, and various water balance variables (e.g., `ppt`, `aet`, `rch`, `run`, `str`, `ERR`). The data should be the result of a previous processing step such as `model_clean()`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function does not return a value. It saves the processed data to the global environment with the following names:</p><ul><li><p>**"cabcm_TimeSeries"**: Contains data with variables relevant to CABCM, including `aet`, `rch`, `run`, and `str` where applicable.</p></li>
<li><p>**"terra_TimeSeries"**: Contains data with variables relevant to TerraClim, excluding `rch`.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The `balance_data` function performs the following operations:</p><ul><li><p>**Convert to Long Format**: Uses `pivot_longer` to transform the wide-format data into long format.</p></li>
<li><p>**Filter and Adjust Data**: Filters the data to keep only the relevant variables and multiplies values for specific variables by -1 to facilitate subtraction from `ppt`.</p></li>
<li><p>**Save to Global Environment**: Depending on the presence of the `rch` variable, the function saves the processed data to the global environment with an appropriate name for future use.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://wamclean.github.io/" class="external-link">Billy McLean</a>, <a href="https://www.nature.org/en-us/" class="external-link"><img src="reference/figures/TNCLogo.png" width="100" alt="TNC"></a>, <a href="https://lynker-spatial.com/" class="external-link"><img src="reference/figures/Lynker-Logo.png" width="100" alt="Lynker"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

